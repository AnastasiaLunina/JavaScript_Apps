'use strict';

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

global.__CLIENT__ = false;

var _require = require('..'),
    PluginLoader = _require.PluginLoader;

describe('PluginLoader', function () {

  it('#register', function () {

    var cbA = sinon.spy();
    var cbB = sinon.spy();
    var cbC = sinon.spy();

    var modA = { register: cbA, $name: 'modA' };
    var modB = function modB(live) {
      cbB();
    };
    modB.prototype.$name = 'modB';
    var modC = function () {
      function modC() {
        (0, _classCallCheck3.default)(this, modC);
        this.$name = 'modC';
      }

      (0, _createClass3.default)(modC, [{
        key: 'register',
        value: function register() {
          cbC();
        }
      }]);
      return modC;
    }();

    var container = {};
    var loader = new PluginLoader(container);

    loader.register(modA);
    cbA.should.have.been.called;
    loader.register(modB);
    cbB.should.have.been.called;
    loader.register(modC);
    cbC.should.have.been.called;
  });
});
//# sourceMappingURL=index-test.js.map
